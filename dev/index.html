<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ActionModels Package · ActionModels.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://ilabcode.github.io/ActionModels.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="markdowns/Introduction/">ActionModels.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><span class="tocitem">Introduction to Action Models</span><ul><li><a class="tocitem" href="markdowns/Introduction/">Welcome to the ActionModels.jl package!</a></li><li><a class="tocitem" href="Conceptual_introduction/agent_and_actionmodel/">Agents, states and action models</a></li><li><a class="tocitem" href="Conceptual_introduction/fitting_vs_simulating/">Fitting and simulating</a></li></ul></li><li><span class="tocitem">Creating Your Model</span><ul><li><a class="tocitem" href="markdowns/creating_own_action_model/">Building your own action model</a></li><li><a class="tocitem" href="markdowns/premade_agents_and_models/">Creating your agent using premade agents and models in the ActionModels package</a></li></ul></li><li><span class="tocitem">Agent Based Simulation</span><ul><li><a class="tocitem" href="markdowns/Simulation_with_an_agent/">Simulating actions with an agent</a></li><li><a class="tocitem" href="markdowns/variations_of_util/">Variations of utility functions</a></li></ul></li><li><span class="tocitem">Fitting an Agent Model</span><ul><li><a class="tocitem" href="markdowns/fitting_an_agent_model_to_data/">Fitting an agent model to data</a></li><li><a class="tocitem" href="markdowns/prior_predictive_sim/">Predictive Simulations</a></li></ul></li><li><span class="tocitem">Advanced Usage</span><ul><li><a class="tocitem" href="markdowns/custom_fit_model/">Creating a custom fit_model() function</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>ActionModels Package</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ActionModels Package</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ilabcode/ActionModels.jl/blob/main/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="ActionModels-Package"><a class="docs-heading-anchor" href="#ActionModels-Package">ActionModels Package</a><a id="ActionModels-Package-1"></a><a class="docs-heading-anchor-permalink" href="#ActionModels-Package" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/ilabcode/ActionModels.jl">ActionModels</a>. The documentation has four elements: a conceptual introduction to the package, how to use it, guides for advanced use and a list of functions.</p><ul><li><a href="Conceptual_introduction/agent_and_actionmodel/#Agents,-states-and-action-models">Agents, states and action models</a></li><li><a href="Conceptual_introduction/fitting_vs_simulating/#Fitting-and-simulating">Fitting and simulating</a></li><li><a href="#ActionModels-Package">ActionModels Package</a></li><li class="no-marker"><ul><li><a href="#Conceptual-introduction-to-action-models">Conceptual introduction to action models</a></li><li><a href="#Using-the-package">Using the package</a></li><li><a href="#Advanced-use">Advanced use</a></li><li><a href="#Functions">Functions</a></li></ul></li><li><a href="markdowns/Introduction/#Welcome-to-the-ActionModels.jl-package!">Welcome to the ActionModels.jl package!</a></li><li class="no-marker"><ul><li><a href="markdowns/Introduction/#Getting-started">Getting started</a></li><li><a href="markdowns/Introduction/#Computaitonal-modelling-of-behavior">Computaitonal modelling of behavior</a></li></ul></li><li><a href="markdowns/Simulation_with_an_agent/#Simulating-actions-with-an-agent">Simulating actions with an agent</a></li><li class="no-marker"><ul><li><a href="markdowns/Simulation_with_an_agent/#Giving-Inputs-To-Agent">Giving Inputs To Agent</a></li><li><a href="markdowns/Simulation_with_an_agent/#Give-a-single-input">Give a single input</a></li><li><a href="markdowns/Simulation_with_an_agent/#Reset-Agent">Reset Agent</a></li><li><a href="markdowns/Simulation_with_an_agent/#Multiple-Inputs">Multiple Inputs</a></li><li><a href="markdowns/Simulation_with_an_agent/#Plotting-Trajectories-of-states">Plotting Trajectories of states</a></li><li><a href="markdowns/Simulation_with_an_agent/#If-your-agent-computes-more-actions">If your agent computes more actions</a></li></ul></li><li><a href="markdowns/complicated_custom_agents/#Complicated-custom-agents:-using-substructs-and-sub-modules">Complicated custom agents: using substructs and sub modules</a></li><li><a href="markdowns/creating_own_action_model/#Building-your-own-action-model">Building your own action model</a></li><li class="no-marker"><ul><li><a href="markdowns/creating_own_action_model/#visual-structure-of-agent-and-action-model">visual structure of agent and action model</a></li><li><a href="markdowns/creating_own_action_model/#Building-the-Rescorla-Wagner-action-model">Building the Rescorla-Wagner action model</a></li><li><a href="markdowns/creating_own_action_model/#A-Binary-Rescorla-Wagner">A Binary Rescorla-Wagner</a></li><li><a href="markdowns/creating_own_action_model/#Create-An-Agent">Create An Agent</a></li></ul></li><li><a href="markdowns/custom_fit_model/#Creating-a-custom-fit_model()-function">Creating a custom fit_model() function</a></li><li class="no-marker"><ul><li><a href="markdowns/custom_fit_model/#Strucure-of-create_agent_model-is-the-following:">Strucure of create_agent_model is the following:</a></li></ul></li><li><a href="markdowns/custom_fit_model/#we-start-by-specifying-function-name-and-the-inputs">we start by specifying function name and the inputs</a></li><li><a href="markdowns/custom_fit_model/###-Strucure-of-fit_model()">## Strucure of fit_model()</a></li><li><a href="markdowns/custom_fit_model/#The-different-elements-in-the-code-are-seperated.">The different elements in the code are seperated.</a></li><li><a href="markdowns/custom_fit_model/#start-by-inititializing-function-name-an-inputs">start by inititializing function name an inputs</a></li><li><a href="markdowns/fitting_an_agent_model_to_data/#Fitting-an-agent-model-to-data">Fitting an agent model to data</a></li><li class="no-marker"><ul><li><a href="markdowns/fitting_an_agent_model_to_data/#So-far-with-the-Actionmodels.jl-package">So far with the Actionmodels.jl package</a></li><li><a href="markdowns/fitting_an_agent_model_to_data/#The-fit_model()-function">The fit_model() function</a></li><li><a href="markdowns/fitting_an_agent_model_to_data/#Tutorial-of-basic-use-of-fit_model()">Tutorial of basic use of fit_model()</a></li><li><a href="markdowns/fitting_an_agent_model_to_data/#Fitting-multiple-parameters">Fitting multiple parameters</a></li></ul></li><li><a href="markdowns/premade_agents_and_models/#Creating-your-agent-using-premade-agents-and-models-in-the-ActionModels-package">Creating your agent using premade agents and models in the ActionModels package</a></li><li class="no-marker"><ul><li><a href="markdowns/premade_agents_and_models/#Defining-an-agent-with-premade_agent()">Defining an agent with premade_agent()</a></li><li><a href="markdowns/premade_agents_and_models/#Get-an-overview-of-the-parameters-and-states-in-a-premade-agent">Get an overview of the parameters and states in a premade agent</a></li><li><a href="markdowns/premade_agents_and_models/#Set-one-and-more-parameter-values-in-an-agent">Set one and more parameter values in an agent</a></li><li><a href="markdowns/premade_agents_and_models/#Defining-an-agent-with-custom-parameter-values">Defining an agent with custom parameter values</a></li></ul></li><li><a href="markdowns/prior_predictive_sim/#Predictive-Simulations">Predictive Simulations</a></li><li class="no-marker"><ul><li><a href="markdowns/prior_predictive_sim/#Predictive-simulations">Predictive simulations</a></li><li><a href="markdowns/prior_predictive_sim/#The-plot_predictive_simulation()">The plot_predictive_simulation()</a></li><li><a href="markdowns/prior_predictive_sim/#Example-of-prior-predictive-simulaiton">Example of prior predictive simulaiton</a></li><li><a href="markdowns/prior_predictive_sim/#Posterior-predictive-simulations">Posterior predictive simulations</a></li></ul></li><li><a href="markdowns/variations_of_util/#Variations-of-utility-functions">Variations of utility functions</a></li><li class="no-marker"><ul><li><a href="markdowns/variations_of_util/#Getting-States">Getting States</a></li><li><a href="markdowns/variations_of_util/#Getting-Parameters">Getting Parameters</a></li><li><a href="markdowns/variations_of_util/#Setting-Parameters">Setting Parameters</a></li><li><a href="markdowns/variations_of_util/#Getting-History">Getting History</a></li><li><a href="markdowns/variations_of_util/#Getting-Posteriors">Getting Posteriors</a></li></ul></li></ul><h2 id="Conceptual-introduction-to-action-models"><a class="docs-heading-anchor" href="#Conceptual-introduction-to-action-models">Conceptual introduction to action models</a><a id="Conceptual-introduction-to-action-models-1"></a><a class="docs-heading-anchor-permalink" href="#Conceptual-introduction-to-action-models" title="Permalink"></a></h2><p>In this part of the documentation the ideas and intuition will be grounded for using the action models module. bla bla</p><p><a href="markdowns/Introduction/">Introduction</a></p><p><a href="Conceptual_introduction/agent_and_actionmodel/">Agent and actionmodel</a></p><p><a href="Conceptual_introduction/fitting_vs_simulating/">Fitting and simulating</a></p><h2 id="Using-the-package"><a class="docs-heading-anchor" href="#Using-the-package">Using the package</a><a id="Using-the-package-1"></a><a class="docs-heading-anchor-permalink" href="#Using-the-package" title="Permalink"></a></h2><ol><li><p><a href="markdowns/Introduction/">Introduction</a></p></li><li><p><a href="Conceptual_introduction/agent_and_actionmodel/">Agent and actionmodel</a></p></li><li><p><a href="Conceptual_introduction/fitting_vs_simulating/">Fitting and simulating</a></p></li><li><p><a href="markdowns/creating_own_action_model/">Creating Your Model</a></p><ol><li><a href="markdowns/premade_agents_and_models/">Using Premade Agent Models</a></li></ol></li><li><p><a href="markdowns/Simulation_with_an_agent/">Agent Based Simulation</a></p><ol><li><a href="markdowns/variations_of_util/">Utility Functions</a></li></ol></li><li><p><a href="markdowns/fitting_an_agent_model_to_data/">Fitting An Agent Model </a></p><ol><li><a href="markdowns/prior_predictive_sim/">Predictive Simulations</a></li></ol></li><li><p><a href="markdowns/custom_fit_model/">Advanced usage</a></p></li></ol><p><a href="markdowns/simulation_with_an_agent.md">Simulation with an agent</a></p><p><a href="markdowns/creating_own_action_model/">Creating your action model</a></p><p><a href="markdowns/fitting_an_agent_model_to_data/">fitting and agent model to data</a></p><p><a href="markdowns/prior_predictive_sim/">prior and posterior predictive simulation</a></p><p><a href="markdowns/variations_of_util/">utility functions</a></p><h2 id="Advanced-use"><a class="docs-heading-anchor" href="#Advanced-use">Advanced use</a><a id="Advanced-use-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-use" title="Permalink"></a></h2><p><a href="markdowns/complicated_custom_agents/">complicated custom agents</a></p><p><a href="markdowns/custom_fit_model/">Custom fit_model() function</a></p><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><ul><li><a href="#ActionModels.premade_agents"><code>ActionModels.premade_agents</code></a></li><li><a href="#ActionModels.Agent"><code>ActionModels.Agent</code></a></li><li><a href="#ActionModels.RejectParameters"><code>ActionModels.RejectParameters</code></a></li><li><a href="#ActionModels.SharedParameter"><code>ActionModels.SharedParameter</code></a></li><li><a href="#ActionModels.binary_rw_softmax-Tuple{Agent, Integer}"><code>ActionModels.binary_rw_softmax</code></a></li><li><a href="#ActionModels.check_agent-Tuple{Agent}"><code>ActionModels.check_agent</code></a></li><li><a href="#ActionModels.create_agent_model-NTuple{5, Any}"><code>ActionModels.create_agent_model</code></a></li><li><a href="#ActionModels.fit_model-Tuple{Agent, Dict, Array, Array}"><code>ActionModels.fit_model</code></a></li><li><a href="#ActionModels.get_history"><code>ActionModels.get_history</code></a></li><li><a href="#ActionModels.get_parameters"><code>ActionModels.get_parameters</code></a></li><li><a href="#ActionModels.get_posteriors-Tuple{MCMCChains.Chains}"><code>ActionModels.get_posteriors</code></a></li><li><a href="#ActionModels.get_states"><code>ActionModels.get_states</code></a></li><li><a href="#ActionModels.give_inputs!"><code>ActionModels.give_inputs!</code></a></li><li><a href="#ActionModels.init_agent-Tuple{}"><code>ActionModels.init_agent</code></a></li><li><a href="#ActionModels.multiple_actions-Tuple{Agent, Any}"><code>ActionModels.multiple_actions</code></a></li><li><a href="#ActionModels.plot_parameter_distribution"><code>ActionModels.plot_parameter_distribution</code></a></li><li><a href="#ActionModels.plot_predictive_simulation-Tuple{Union{Dict, MCMCChains.Chains}, Agent, Array, Union{String, Tuple}}"><code>ActionModels.plot_predictive_simulation</code></a></li><li><a href="#ActionModels.plot_trajectory"><code>ActionModels.plot_trajectory</code></a></li><li><a href="#ActionModels.premade_agent"><code>ActionModels.premade_agent</code></a></li><li><a href="#ActionModels.reset!-Tuple{Agent}"><code>ActionModels.reset!</code></a></li><li><a href="#ActionModels.set_parameters!"><code>ActionModels.set_parameters!</code></a></li><li><a href="#ActionModels.single_input!-Tuple{Agent, Any}"><code>ActionModels.single_input!</code></a></li><li><a href="#ActionModels.warn_premade_defaults"><code>ActionModels.warn_premade_defaults</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="ActionModels.premade_agents" href="#ActionModels.premade_agents"><code>ActionModels.premade_agents</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">premade_agents::Dict{String,Function}</code></pre><p>Global dictionary constant that contains premade agents. This is updated by other packages that add new premade agents.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/create_agent/create_premade_agent.jl#L2-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.Agent" href="#ActionModels.Agent"><code>ActionModels.Agent</code></a> — <span class="docstring-category">Type</span></header><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/structs.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.RejectParameters" href="#ActionModels.RejectParameters"><code>ActionModels.RejectParameters</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Custom error type which will result in rejection of a sample</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/structs.jl#L15-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.SharedParameter" href="#ActionModels.SharedParameter"><code>ActionModels.SharedParameter</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Type for shared parameters containing both the parameter value and a vector of parameter names that will share that value</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/structs.jl#L22-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.binary_rw_softmax-Tuple{Agent, Integer}" href="#ActionModels.binary_rw_softmax-Tuple{Agent, Integer}"><code>ActionModels.binary_rw_softmax</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">binary_rw_softmax(agent::Agent, input::Bool)</code></pre><p>Action model that learns from binary inputs with a classic Rescorla-Wagner model. Passes learnt probabilities through a softmax to get the action prpbability distribution.</p><p>Parameters: &quot;learning<em>rate&quot; and &quot;softmax</em>action<em>precision&quot;. States: &quot;value&quot;, &quot;value</em>probability&quot;, &quot;action_probability&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/premade_models/premade_action_models.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.check_agent-Tuple{Agent}" href="#ActionModels.check_agent-Tuple{Agent}"><code>ActionModels.check_agent</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Function for checking the structure of the agent</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/create_agent/check_agent.jl#L1-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.create_agent_model-NTuple{5, Any}" href="#ActionModels.create_agent_model-NTuple{5, Any}"><code>ActionModels.create_agent_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_agent_model(agent,param_priors,inputs,actions,impute_missing_actions)</code></pre><p>Create a Turing model object used for fitting an ActionModels agent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/fitting/create_model.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.fit_model-Tuple{Agent, Dict, Array, Array}" href="#ActionModels.fit_model-Tuple{Agent, Dict, Array, Array}"><code>ActionModels.fit_model</code></a> — <span class="docstring-category">Method</span></header><section><div><p>&quot;&quot;     fit<em>model(agent::Agent, inputs::Array, actions::Vector, param</em>priors::Dict, kwargs...)</p><p>Use Turing to fit the parameters of an agent to a set of inputs and corresponding actions.</p><p><strong>Arguments</strong></p><ul><li>&#39;agent::Agent&#39;: an ActionModels agent object created with either premade<em>agent or init</em>agent.</li><li>&#39;param_priors::Dict&#39;: dictionary containing priors (as Distribution objects) for fitted parameters. Keys are parameter names, values are priors.</li><li>&#39;inputs:Array&#39;: array of inputs. Each row is a timestep, and each column is a single input value.</li><li>&#39;actions::Array&#39;: array of actions. Each row is a timestep, and each column is a single action.</li><li>&#39;fixed_parameters::Dict = Dict()&#39;: dictionary containing parameter values for parameters that are not fitted. Keys are parameter names, values are priors. For parameters not specified here and without priors, the parameter values of the agent are used instead.</li><li>&#39;sampler = NUTS()&#39;: specify the type of Turing sampler.</li><li>&#39;n_cores = 1&#39;: set number of cores to use for parallelization. If set to 1, no parallelization is used.</li><li>&#39;n_iterations = 1000&#39;: set number of iterations per chain.</li><li>&#39;n_chains = 2&#39;: set number of amount of chains.</li><li>&#39;verbose = true&#39;: set to false to hide warnings.</li><li>&#39;show<em>sample</em>rejections = false&#39;: set whether to show warnings whenever samples are rejected.</li><li>&#39;impute<em>missing</em>actions = false&#39;: set whether the values of missing actions should also be estimated by Turing.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">#Create a premade agent: binary Rescorla-Wagner
agent = premade_agent(&quot;premade_binary_rw_softmax&quot;)

#Set priors for the learning rate
param_priors = Dict(&quot;learning_rate&quot; =&gt; Uniform(0, 1))

#Set inputs and actions
inputs = [1, 0, 1]
actions = [1, 1, 0]

#Fit the model
fit_model(agent, param_priors, inputs, actions, n_chains = 1, n_iterations = 10)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/fitting/fit_model.jl#L1-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.get_history" href="#ActionModels.get_history"><code>ActionModels.get_history</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_history(agent::Agent, target_state::Union{String,Tuple})</code></pre><p>Get the history of a single state from an agent. Returns a vector.</p><pre><code class="nohighlight hljs">get_history(agent::Agent, target_states::Vector)</code></pre><p>Get set of a vector of states from an agent. Returns a dictionary of states and their histories.</p><pre><code class="nohighlight hljs">get_history(agent::Agent)</code></pre><p>Get histories for states from an agent. Returns a dictionary of states and their histories.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/utils/get_history.jl#L1-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.get_parameters" href="#ActionModels.get_parameters"><code>ActionModels.get_parameters</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_parameters(agent::Agent, target_param::Union{String,Tuple})</code></pre><p>Get a single parameter from an agent. Returns a single value.</p><pre><code class="nohighlight hljs">get_parameters(agent::Agent, target_param::Vector)</code></pre><p>Get a set of parameter values from an agent. Returns a dictionary of parameters and their values.</p><pre><code class="nohighlight hljs">get_parameters(agent::Agent)</code></pre><p>Get all parameters from an agent. Returns a dictionary of parameters and their values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/utils/get_parameters.jl#L1-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.get_posteriors-Tuple{MCMCChains.Chains}" href="#ActionModels.get_posteriors-Tuple{MCMCChains.Chains}"><code>ActionModels.get_posteriors</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_posteriors(chain::Chains; type::String = &quot;median&quot;)</code></pre><p>Extract parameters from a Turing Chain object. Returns a dictionary of parameters and their posteriors.  &#39;type&#39; can be set to either &#39;median&#39;, in which case median values are extracted, or &#39;distribution&#39;, in which case full posterior distributions are extracted.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/utils/get_posteriors.jl#L2-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.get_states" href="#ActionModels.get_states"><code>ActionModels.get_states</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_states(agent::Agent, target_state::Union{String,Tuple})</code></pre><p>Get a single state from an agent. Returns a single value.</p><pre><code class="nohighlight hljs">get_states(agent::Agent, target_state::Vector)</code></pre><p>Get a set of state values from an agent. Returns a dictionary of state names and their values.</p><pre><code class="nohighlight hljs">get_states(agent::Agent)</code></pre><p>Get all states from an agent. Returns a dictionary of state names and their values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/utils/get_states.jl#L1-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.give_inputs!" href="#ActionModels.give_inputs!"><code>ActionModels.give_inputs!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">give_inputs!(agent::Agent, inputs)</code></pre><p>Give inputs to an agent. Input can be a single value, a vector of values, or an array of values. Returns the agent&#39;s action trajectory, without the initial state.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/utils/give_inputs.jl#L40-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.init_agent-Tuple{}" href="#ActionModels.init_agent-Tuple{}"><code>ActionModels.init_agent</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">init_agent(action_model::Function; substruct::Any = nothing, parameters::Dict = Dict(), states::Union{Dict, Vector} = Dict(),
settings::Dict = Dict(), shared_parameters::Dict = Dict())</code></pre><p>Initialize an agent. </p><p>Note that action<em>model can also be specified as a vector of action models: action</em>model::Vector{Function}. In this case the action models will be stored in the agent&#39;s settings. In that case use the function &#39;multiple_actions&#39;</p><p><strong>Arguments</strong></p><ul><li>&#39;action_model::Function&#39;: a function specifying the agent&#39;s action model. Can be any function that takes an agent and a single input as arguments, and returns a probability distribution from which actions are sampled.</li><li>&#39;substruct::Any = nothing&#39;: struct containing additional parameters and states. This structure also get passed to utility functions. Check advanced usage guide.</li><li>&#39;parameters::Dict = Dict()&#39;: dictionary containing parameters of the agent. Keys are parameter names (strings, or tuples of strings), values are parameter values.</li><li>&#39;states::Union{Dict, Vector} = Dict()&#39;: dictionary containing states of the agent. Keys are state names (strings, or tuples of strings), values are initial state values. Can also be a vector of state name strings.</li><li>&#39;settings::Dict = Dict()&#39;: dictionary containing additional settings for the agent. Keys are setting names, values are setting values.</li><li>&#39;shared_parameters::Dict = Dict()&#39;: dictionary containing shared parameters. Keys are the the name of the shared parameter, values are the value of the shared parameter followed by a vector of the parameters sharing that value.</li></ul><p><strong>Examples</strong></p><p>```julia</p><p><strong>Create agent with a binary Rescorla-Wagner action model</strong></p><p><strong>Create action model function</strong></p><p>function binary<em>rw</em>softmax(agent::Agent, input::Union{Bool,Integer})</p><pre><code class="nohighlight hljs">#Read in parameters
learning_rate = agent.parameters[&quot;learning_rate&quot;]
action_precision = agent.parameters[&quot;softmax_action_precision&quot;]

#Read in states
old_value = agent.states[&quot;value&quot;]

#Sigmoid transform the value
old_value_probability = 1 / (1 + exp(-old_value))

#Get new value state
new_value = old_value + learning_rate * (input - old_value_probability)

#Pass through softmax to get action probability
action_probability = 1 / (1 + exp(-action_precision * new_value))

#Create Bernoulli normal distribution with mean of the target value and a standard deviation from parameters
action_distribution = Distributions.Bernoulli(action_probability)

#Update states
agent.states[&quot;value&quot;] = new_value
agent.states[&quot;value_probability&quot;], 1 / (1 + exp(-new_value))
agent.states[&quot;action_probability&quot;], action_probability
#Add to history
push!(agent.history[&quot;value&quot;], new_value)
push!(agent.history[&quot;value_probability&quot;], 1 / (1 + exp(-new_value)))
push!(agent.history[&quot;action_probability&quot;], action_probability)

return action_distribution</code></pre><p>end</p><p>#Define requried parameters parameters = Dict(     &quot;learning<em>rate&quot; =&gt; 1,     &quot;softmax</em>action_precision&quot; =&gt; 1,     (&quot;initial&quot;, &quot;value&quot;) =&gt; 0, )</p><p>#Define required states states = Dict(     &quot;value&quot; =&gt; missing,     &quot;value<em>probability&quot; =&gt; missing,     &quot;action</em>probability&quot; =&gt; missing, )</p><p>#Create agent agent = init<em>agent(     binary</em>rw_softmax,     parameters = parameters,     states = states,     settings = settings, )</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/create_agent/init_agent.jl#L2-L78">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.multiple_actions-Tuple{Agent, Any}" href="#ActionModels.multiple_actions-Tuple{Agent, Any}"><code>ActionModels.multiple_actions</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">multiple_actions(agent::Agent, input::Any)</code></pre><p>Action model that combines multiple action models stored in the agent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/create_agent/multiple_actions.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.plot_parameter_distribution" href="#ActionModels.plot_parameter_distribution"><code>ActionModels.plot_parameter_distribution</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">plot_parameter_distribution(fitted_model, param_priors;
    subplot_titles = Dict(),
    show_distributions = true,
    show_intervals = true,
    prior_color = :green,
    posterior_color = :orange,
    prior_interval_offset = 0,
    posterior_interval_offset = 0.01,
    inner_interval = 0.5,
    outer_interval = 0.8,
    plot_width = 900,
    plot_height = 300)</code></pre><p>Plot the prior and posterior distributions of the parameters of a fitted model.</p><p><strong>Arguments</strong></p><ul><li>&#39;subplot_titles&#39;: A dictionary of parameter names and their corresponding plot titles.</li><li>&#39;show_distributions&#39;: Whether to show full distributions.</li><li>&#39;show_intervals&#39;: Whether to show uncertainty intervals.</li><li>&#39;prior_color&#39;: Color of the prior distribution.</li><li>&#39;posterior_color&#39;: Color of the posterior distribution.</li><li>&#39;prior<em>interval</em>offset&#39;: Offset of the prior interval bars.</li><li>&#39;posterior<em>interval</em>offset&#39;: Offset of the posterior interval bars.</li><li>&#39;inner_interval&#39;: Size of the inner uncertainty interval.</li><li>&#39;outer_interval&#39;: Size of the outer uncertainty interval.</li><li>&#39;plot_width&#39;: Width of the plot.</li><li>&#39;plot_height&#39;: Height of the plot.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/plots/plot_parameter_distribution.jl#L3-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.plot_predictive_simulation-Tuple{Union{Dict, MCMCChains.Chains}, Agent, Array, Union{String, Tuple}}" href="#ActionModels.plot_predictive_simulation-Tuple{Union{Dict, MCMCChains.Chains}, Agent, Array, Union{String, Tuple}}"><code>ActionModels.plot_predictive_simulation</code></a> — <span class="docstring-category">Method</span></header><section><div><p>plot<em>predictive</em>simulation(param<em>distributions::Union{Chains,Dict}, agent::Agent, inputs::Array, target</em>state::Union{String,Tuple};     fixed<em>parameters::Dict = Dict(), n</em>simulations::Int = 100, verbose::Bool = true, median<em>color::Union{String,Symbol} = :red, title::String = &quot;Sampled trajectories&quot;,     label::Union{String,Tuple} = target</em>state, alpha::Real = 0.1, linewidth::Real = 2, )</p><p>Simulate distributions of states and actions for an agent, with parameters sampled from a specified distirbutions, and given a series of inputs.</p><p><strong>Arguments</strong></p><ul><li>&#39;param_distributions::Union{Chains,Dict}&#39;: Distributions to sample parameters from. Can be a dictionary containing keys and distributions, or a Turing Chain object containing the posterior distributions after fitting.</li><li>&#39;agent::Agent&#39;: an ActionModels agent object created with either premade<em>agent or init</em>agent.</li><li>&#39;inputs:Array&#39;: array of inputs. Each row is a timestep, and each column is a single input value.</li><li>&#39;target_state::Union{String,Tuple}&#39;: the state for which to plot the simulated distribution. If set to &#39;action&#39;, plot the action distribution. Note that the target state must be in the agent&#39;s history. </li><li>&#39;fixed_parameters::Dict = Dict()&#39;: dictionary containing parameter values for parameters that are not fitted. Keys are parameter names, values are priors. For parameters not specified here and without priors, the parameter values of the agent are used instead.</li><li>&#39;n_simulations::Int = 100&#39;: set number of simulations you want to run.</li><li>&#39;verbose = true&#39;: set to false to hide warnings.</li><li>&#39;median_color::Union{String,Symbol} = :red&#39;: specify color of median value in the plot.</li><li>&#39;title::String = &quot;Sampled trajectories&quot;&#39;: title on graph.</li><li>&#39;label::Union{String,Tuple} = target_state&#39;: label on graph.</li><li>&#39;alpha::Real = 0.1&#39;: the transparency of each simulated trajectory line.</li><li>&#39;linewidth::Real = 2&#39;: specify linewidth on your plot.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/plots/plot_predictive_simulation.jl#L1-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.plot_trajectory" href="#ActionModels.plot_trajectory"><code>ActionModels.plot_trajectory</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">plot_trajector(agent::Agent, target_state::Union{String,Tuple}; kwargs...)</code></pre><p>Plot trajectory of a state from an agent. Keyword arguments are passed to Plots.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/plots/plot_trajectory.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.premade_agent" href="#ActionModels.premade_agent"><code>ActionModels.premade_agent</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">premade_agent(model_name::String, config::Dict = Dict(); verbose::Bool = true)</code></pre><p>Create an agent from the list of premade agents.</p><p><strong>Arguments</strong></p><ul><li>&#39;model_name::String&#39;: Name of the premade model. Returns a list of possible model names if set to &#39;help&#39;. </li><li>&#39;config::Dict = Dict()&#39;: A dictionary with configurations for the agent, like parameters and settings.</li><li>&#39;verbose::Bool = true&#39;: If set to false, warnings are hidden.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/create_agent/create_premade_agent.jl#L9-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.reset!-Tuple{Agent}" href="#ActionModels.reset!-Tuple{Agent}"><code>ActionModels.reset!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">reset!(agent::Agent)</code></pre><p>Reset an agent to its initial state. Use initial state parameters when specified, and otherwise just use the first value in the state history.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/utils/reset.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.set_parameters!" href="#ActionModels.set_parameters!"><code>ActionModels.set_parameters!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_parameters!(agent::Agent, target_param::Union{String,Tuple}, param_value::Any)</code></pre><p>Setting a single parameter value for an agent.</p><pre><code class="nohighlight hljs">set_parameters!(agent::Agent, parameter_values::Dict)</code></pre><p>Set mutliple parameters values for an agent. Takes a dictionary of parameter names and values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/utils/set_parameters.jl#L2-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.single_input!-Tuple{Agent, Any}" href="#ActionModels.single_input!-Tuple{Agent, Any}"><code>ActionModels.single_input!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">single_input!(agent::Agent, input::Any)</code></pre><p>Give a single input to an Agent and let it evolve. Returns the agent&#39;s action.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/utils/give_inputs.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ActionModels.warn_premade_defaults" href="#ActionModels.warn_premade_defaults"><code>ActionModels.warn_premade_defaults</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">warn_premade_defaults(defaults::Dict, config::Dict, prefix::String = &quot;&quot;)</code></pre><p>Check if any config values have not been set by the user, and warns them that it is using defaults.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ilabcode/ActionModels.jl/blob/80d439d393a76128b766c0b42d8c4332c1f6ab04/src/utils/warn_premade_defaults.jl#L1-L5">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 13 February 2023 10:52">Monday 13 February 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
